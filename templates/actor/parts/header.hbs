{{!-- templates/actor/parts/header.hbs --}}

<header class="sheet-header">

  {{!-- TOP ROW: Type ABOVE the portrait --}}
  <div class="header-top-row flexrow">
    <div class="type-field">
      <input type="text"
             value="{{actor.type}}"
             class="type-display"
             disabled />
    </div>
  </div>

  {{!-- MAIN ROW: Portrait + everything else --}}
  <div class="header-main-row flexrow">

    {{!-- PORTRAIT --}}
    <div class="profile">
      <img class="profile-img"
           src="{{actor.img}}"
           data-edit="img"
           title="{{actor.name}}" />
    </div>

    {{!-- RIGHT SIDE fields --}}
    <div class="header-fields">

      <div class="name-row">
        <input name="name"
               type="text"
               value="{{actor.name}}"
               placeholder="Name" />
      </div>

      <div class="meta-row flexrow">

        {{!-- RANK (read-only) --}}
        <div class="field rank-display-field">
          <label>Rank</label>
          <input type="text"
                 value="{{lookup config.ranks system.details.rank}}"
                 placeholder="Unranked"
                 readonly />
        </div>

        {{!-- RACE (read-only) --}}
        <div class="field race-display-field">
          <label>Race</label>
          <input type="text"
                 value="{{lookup config.races system.details.race}}"
                 placeholder="Unchosen"
                 readonly />
        </div>

        {{!-- PURPOSE (read-only, uses derived label) --}}
        <div class="field purpose-field">
          <label>Purpose</label>
          <input type="text"
                 value="{{system.details.markOfPurposeLabel}}"
                 placeholder="(No Mark)"
                 readonly />
        </div>

        {{!-- BACKGROUND (read-only) --}}
        <div class="field background-display-field">
          <label>Background</label>
          <input type="text"
                 value="{{lookup config.backgrounds system.details.background}}"
                 placeholder="Unchosen"
                 readonly />
        </div>

      </div>

      {{!-- SPIRIT ADVANCEMENT POOL --}}
      <div class="meta-row flexrow spirit-row">
        <div class="field">
          <label>Spirit (Current)</label>
          <input type="number"
                 name="system.spirit.current"
                 value="{{system.spirit.current}}"
                 data-dtype="Number"
                 placeholder="0" />
        </div>

        <div class="field">
          <label>Spirit (Spent)</label>
          <input type="number"
                 name="system.spirit.spent"
                 value="{{system.spirit.spent}}"
                 data-dtype="Number"
                 placeholder="0" />
        </div>

        <div class="field">
          <label>Spirit (Total)</label>
          <span class="value">
            {{#if system.spirit.total}}
              {{system.spirit.total}}
            {{else}}
              0
            {{/if}}
          </span>
        </div>
      </div>

    </div>
  </div>
</header>

