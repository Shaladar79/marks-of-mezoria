/* ========================================================================== */
/* ROOT SHEET CONTAINER                                                       */
/* ========================================================================== */

.marks-of-mezoria.sheet.actor {
  padding: 8px;
  box-sizing: border-box;
  font-size: 13px;
}

/* ========================================================================== */
/* HEADER                                                                     */
/* ========================================================================== */

.sheet-header {
  margin-bottom: 8px;
}

.header-top-row {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 4px;
}

.type-field .type-display {
  border: none;
  background: transparent;
  font-weight: bold;
  text-align: right;
}

.header-main-row {
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

.profile {
  flex: 0 0 80px;
}

.profile-img {
  width: 80px;
  height: 80px;
  object-fit: cover;
}

.header-fields {
  flex: 1;
}

.name-row input {
  width: 100%;
  font-size: 1.2em;
  font-weight: bold;
  margin-bottom: 4px;
}

/* Meta row (Rank / Race / Background / etc.) */
.meta-row {
  display: flex;
  gap: 8px;
}

.meta-row .field {
  flex: 1;
}

.meta-row label {
  display: block;
  font-size: 0.75em;
  font-weight: bold;
}

/* Later we'll hide/show Purpose by rank via JS; class is ready for it */
.purpose-field input[readonly] {
  font-style: italic;
  opacity: 0.9;
}

/* ========================================================================== */
/* GENERIC FIELD STYLING                                                      */
/* ========================================================================== */

.sheet-body .field {
  display: flex;
  flex-direction: column;
  margin-bottom: 4px;
}

.sheet-body .field label {
  font-size: 0.75em;
  font-weight: bold;
  margin-bottom: 2px;
}

.sheet-body .field input,
.sheet-body .field select,
.sheet-body .field textarea {
  width: 100%;
  box-sizing: border-box;
}

/* ========================================================================== */
/* TABS                                                                       */
/* ========================================================================== */

/* Tab bar */
.sheet-tabs {
  border-bottom: 1px solid #444;
  margin-bottom: 4px;
}

.sheet-tabs .item {
  display: inline-block;
  padding: 2px 8px;
  cursor: pointer;
}

.sheet-tabs .item.active {
  font-weight: bold;
  border-bottom: 2px solid #fff;
}

/* Tab content container */
.sheet-body {
  padding-top: 4px;
}

/* ========================================================================== */
/* CHARACTER INFO TAB                                                         */
/* ========================================================================== */

.cinfo-section {
  margin-bottom: 6px;
}

.cinfo-section > summary {
  cursor: pointer;
  font-weight: bold;
}

/* ========================================================================== */
/* ATTRIBUTES & STATUS TAB                                                    */
/* ========================================================================== */

/* Whole tab */
.tab.astats {
  padding: 4px;
  box-sizing: border-box;
}

/* Two-column layout: left = attributes, right = status */
.tab.astats .astats-layout {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

/* Each half of the sheet */
.tab.astats .astats-left,
.tab.astats .astats-right {
  flex: 0 0 50%;
  box-sizing: border-box;
}

/* Little breathing room between halves */
.tab.astats .astats-left {
  padding-right: 4px;
}

.tab.astats .astats-right {
  padding-left: 4px;
}

/* Top-level collapsible section (Attributes, Status, etc.) */
.attr-section {
  margin-bottom: 6px;
}

.attr-section > summary {
  cursor: pointer;
  font-weight: bold;
  padding: 3px 6px;
  border-radius: 3px 3px 0 0;
  background: #e0e0e0;
  border: 1px solid #444;
  border-bottom: none;
}

/* Inner wrapper inside main Attributes section */
.attr-section-inner {
  border: 1px solid #444;
  border-radius: 0 0 3px 3px;
  border-top: none;
  padding: 4px 4px 6px;
  background: #ffffff;
  display: flex;
  flex-direction: column;
  gap: 6px;
  box-sizing: border-box;
}

/* Nested collapsible sections for Body / Mind / Soul */
.attr-subsection > summary {
  cursor: pointer;
  font-weight: bold;
  padding: 2px 6px;
  border-radius: 3px;
  background: #f0f0f0;
  border: 1px solid #aaa;
  margin-bottom: 2px;
}

/* Generic attribute block “card” */
.attr-block {
  border: 1px solid #444;
  border-radius: 3px;
  padding: 4px 6px 6px;
  background: #ffffff;           /* WHITE background */
  box-sizing: border-box;
}

/* ---------- Attribute table-style layout ---------- */

/* Header text inside the card (Body Save, Mind Save, Soul Save) */
.attr-block-header {
  font-weight: bold;
  text-align: center;
  margin-bottom: 4px;
  font-size: 0.85em;
}

/* Grid container inside each attribute block */
.attr-grid {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Each row */
.attr-grid-row {
  display: flex;
  gap: 4px;
  align-items: center;
}

/* First column: attribute name */
.attr-col-name {
  flex: 0 0 80px;
  font-size: 0.8em;
  font-weight: bold;
}

/* Other columns share remaining space */
.attr-grid-row .attr-col:not(.attr-col-name) {
  flex: 1 1 0;
}

/* Header row styling (Attribute / Race / Background / Mark / Misc / Total) */
.attr-grid-header .attr-col {
  font-size: 0.75em;
  font-weight: bold;
}

/* Inputs inside the grid */
.attr-grid-row input {
  width: 100%;
  box-sizing: border-box;
  text-align: center;
}

/* Save row under the header (Body Save / Mind Save / Soul Save) */
.attr-save-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 4px;
}

.attr-save-label {
  font-size: 0.75em;
  font-weight: bold;
}

.attr-save-value {
  width: 50px;
  text-align: center;
}

/* Icon roll button */
.save-roll {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 3px;
  border: 1px solid #444;
  background: #ddd;
  cursor: pointer;
  padding: 0;
}

.save-roll i {
  font-size: 0.8em;
  line-height: 1;
}

/* ========================================================================== */
/* STATUS PANEL (RIGHT SIDE)                                                  */
/* ========================================================================== */

.astats-right {
  border: 1px solid #444;
  border-radius: 4px;
  padding: 4px 6px;
  background: #ffffff;           /* WHITE background */
}

/* Container for all status sections (inside main Status details) */
.status-panel {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Collapsible sections: Status (main), and inner Core / Protections / Misc */
.status-section {
  margin-bottom: 4px;
}

.status-section > summary {
  cursor: pointer;
  font-weight: bold;
  padding: 3px 6px;
  border-radius: 3px 3px 0 0;
  background: #e0e0e0;
  border: 1px solid #444;
  border-bottom: none;
}

/* Card under each summary */
.status-block {
  border: 1px solid #444;
  border-radius: 0 0 3px 3px;
  padding: 4px 6px 6px;
  background: #ffffff;
  box-sizing: border-box;
}

.status-section[open] .status-block {
  border-top: none;
}

/* Core resources grid (Resource / Current / Max / Regen) */
.status-core-grid {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.status-core-grid-row {
  display: flex;
  gap: 4px;
  align-items: center;
}

.status-col-name {
  flex: 0 0 90px;
  font-size: 0.8em;
  font-weight: bold;
}

.status-core-grid-row .status-col:not(.status-col-name) {
  flex: 1 1 0;
}

/* Header row for core/protection grids */
.status-core-grid-row.status-core-grid-header .status-col {
  font-size: 0.75em;
  font-weight: bold;
}

.status-core-grid-row input {
  width: 100%;
  box-sizing: border-box;
  text-align: center;
}

.status-col-empty {
  text-align: center;
  font-size: 0.8em;
  opacity: 0.7;
}

/* Misc status row: Reaction + Pace side by side */
.status-misc-row {
  display: flex;
  gap: 8px;
}

.status-misc-row .field {
  flex: 1 1 0;
}

/* Legacy status grid helper (if needed elsewhere) */
.status-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 6px;
}

/* ========================================================================== */
/* RESPONSIVE TWEAKS                                                          */
/* ========================================================================== */

/* If the sheet is ever narrowed, stack the two halves */
@media (max-width: 640px) {
  .tab.astats .astats-layout {
    flex-direction: column;
  }

  .tab.astats .astats-left,
  .tab.astats .astats-right {
    flex: 1 1 auto;
    padding: 0;
  }
}
